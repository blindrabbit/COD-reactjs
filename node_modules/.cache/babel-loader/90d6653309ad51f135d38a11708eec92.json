{"ast":null,"code":"import _regeneratorRuntime from\"/home/sanches/projects/Campus-ON-Demand/campus-on-demand/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/sanches/projects/Campus-ON-Demand/campus-on-demand/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/sanches/projects/Campus-ON-Demand/campus-on-demand/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{useHistory}from\"react-router-dom\";import Header from\"../../components/header/header\";import api from\"../../services/api\";import\"./style.css\";import Avatar from\"@material-ui/core/Avatar\";import Button from\"@material-ui/core/Button\";import CssBaseline from\"@material-ui/core/CssBaseline\";import TextField from\"@material-ui/core/TextField\";import Fingerprint from\"@material-ui/icons/Fingerprint\";import Typography from\"@material-ui/core/Typography\";import{makeStyles}from\"@material-ui/core/styles\";import Container from\"@material-ui/core/Container\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";// PAGINA DE AUTTENTICAÇÃO DO SERVIÇO\n// Componente sempre com letra maiúscula--\nvar UseStyles=makeStyles(function(theme){return{paper:{marginTop:theme.spacing(10),display:\"flex\",flexDirection:\"column\",alignItems:\"center\"},avatar:{margin:theme.spacing(1),backgroundColor:theme.palette.secondary.main},form:{width:\"100%\",// Fix IE 11 issue.\nmarginTop:theme.spacing(1)},submit:{margin:theme.spacing(3,0,2)}};});function CadastroUser(){// O userState guarda váriaveis dinamicamente\nvar _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),nome=_useState2[0],setNome=_useState2[1];// variavel auxiliar que funciona como histório de navegação\nvar history=useHistory();var classes=UseStyles();var enviar=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var time,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();// pegar a hora atual\ntime=new Date();data={nome:nome,time:time};console.log(data);// POST QUANDO MINHA API ESTIVER ONLINE\napi.post(\"/authentication\",data)// depois que rodar o post, roda o then\n// CASO SUCESSO\n.then(function(){alert(\"Cadastrado com sucesso\");// como eu nao sei se ele acessou a pagina home, estou forçando\n// ele ir pra home\nhistory.push(\"/\");})// CASO ERRO\n.catch(function(){alert(\"erro na criação\");});case 5:case\"end\":return _context.stop();}}},_callee);}));return function enviar(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/ (// importante, sempre retornar um componente\n// exemplo: ou uma div inteira, ou um h1\n// tambem posso só abrir ou fechar uma tag <></>\n_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(Container,{component:\"main\",maxWidth:\"xs\",children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsxs(\"div\",{className:classes.paper,children:[/*#__PURE__*/_jsx(Avatar,{className:classes.avatar,children:/*#__PURE__*/_jsx(Fingerprint,{})}),/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h5\",children:\"Autentica\\xE7\\xE3o de Servi\\xE7o\"})]}),/*#__PURE__*/_jsx(\"form\",{className:classes.form,noValidate:true,children:/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,id:\"nome\",label:\"Nome do Servi\\xE7o\",name:\"email\",autoComplete:\"Nome do Servi\\xE7o\",autoFocus:true,onChange:function onChange(e){return setNome(e.target.value);},type:\"text\"})}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",color:\"primary\",className:classes.submit// onCLinc chama a função enviar criada la em cima\n,onClick:enviar,children:\"Autentica\\xE7\\xE3o\"})]})]}));}export default CadastroUser;","map":{"version":3,"sources":["/home/sanches/projects/Campus-ON-Demand/campus-on-demand/src/pages/authentication/index.tsx"],"names":["React","useState","useHistory","Header","api","Avatar","Button","CssBaseline","TextField","Fingerprint","Typography","makeStyles","Container","UseStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","CadastroUser","nome","setNome","history","classes","enviar","e","preventDefault","time","Date","data","console","log","post","then","alert","push","catch","target","value"],"mappings":"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","sourcesContent":["import React, { useState, FormEvent } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport logo from \"../../assets/logo.svg\";\nimport Header from \"../../components/header/header\";\nimport api from \"../../services/api\";\nimport Home from \"../home\";\nimport \"./style.css\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from \"@material-ui/core/Box\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport Fingerprint from \"@material-ui/icons/Fingerprint\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport Footer from \"../../components/footer/footer\";\n\n// PAGINA DE AUTTENTICAÇÃO DO SERVIÇO\n\n// Componente sempre com letra maiúscula--\n\nconst UseStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(10),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nfunction CadastroUser() {\n  // O userState guarda váriaveis dinamicamente\n  const [nome, setNome] = useState(\"\");\n  // variavel auxiliar que funciona como histório de navegação\n  const history = useHistory();\n  const classes = UseStyles();\n  const enviar = async (e: FormEvent) => {\n    e.preventDefault();\n\n    // pegar a hora atual\n    const time = new Date();\n    const data = {\n      nome,\n      time,\n    };\n    console.log(data);\n\n    // POST QUANDO MINHA API ESTIVER ONLINE\n    api\n      .post(\"/authentication\", data)\n      // depois que rodar o post, roda o then\n      // CASO SUCESSO\n      .then(() => {\n        alert(\"Cadastrado com sucesso\");\n\n        // como eu nao sei se ele acessou a pagina home, estou forçando\n        // ele ir pra home\n        history.push(\"/\");\n      })\n      // CASO ERRO\n      .catch(() => {\n        alert(\"erro na criação\");\n      });\n  };\n  return (\n    // importante, sempre retornar um componente\n    // exemplo: ou uma div inteira, ou um h1\n    // tambem posso só abrir ou fechar uma tag <></>\n\n    <>\n      <Header />\n      <Container component=\"main\" maxWidth=\"xs\">\n        <CssBaseline />\n        <div className={classes.paper}>\n          <Avatar className={classes.avatar}>\n            <Fingerprint />\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h5\">\n            Autenticação de Serviço\n          </Typography>\n        </div>\n\n        <form className={classes.form} noValidate>\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"nome\"\n            label=\"Nome do Serviço\"\n            name=\"email\"\n            autoComplete=\"Nome do Serviço\"\n            autoFocus\n            onChange={(e) => setNome(e.target.value)}\n            type=\"text\"\n          />\n        </form>\n        <Button\n          type=\"submit\"\n          fullWidth\n          variant=\"contained\"\n          color=\"primary\"\n          className={classes.submit}\n          // onCLinc chama a função enviar criada la em cima\n          onClick={enviar}\n        >\n          Autenticação\n        </Button>\n      </Container>\n    </>\n  );\n}\n\nexport default CadastroUser;\n"]},"metadata":{},"sourceType":"module"}